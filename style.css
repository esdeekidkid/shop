@import "tailwindcss";

:root {
  --bg: hsl(40, 20%, 97%);
  --fg: hsl(220, 20%, 14%);
  --card: hsl(0, 0%, 100%);
  --card-fg: hsl(220, 20%, 14%);
  --primary: hsl(220, 55%, 42%);
  --primary-fg: hsl(0, 0%, 100%);
  --secondary: hsl(220, 14%, 93%);
  --secondary-fg: hsl(220, 20%, 14%);
  --muted: hsl(220, 14%, 93%);
  --muted-fg: hsl(220, 10%, 46%);
  --destructive: hsl(0, 60%, 48%);
  --destructive-fg: hsl(0, 0%, 100%);
  --success: hsl(152, 56%, 38%);
  --border: hsl(220, 13%, 89%);
  --header-bg: hsl(220, 30%, 22%);
  --header-fg: hsl(40, 20%, 95%);
  --radius: 0.625rem;
  --shadow: 0 1px 3px rgba(0,0,0,0.08);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.1);
}

.dark {
  --bg: hsl(220, 18%, 10%);
  --fg: hsl(220, 10%, 90%);
  --card: hsl(220, 16%, 15%);
  --card-fg: hsl(220, 10%, 90%);
  --primary: hsl(215, 60%, 58%);
  --secondary: hsl(220, 14%, 20%);
  --secondary-fg: hsl(220, 10%, 90%);
  --muted: hsl(220, 14%, 20%);
  --muted-fg: hsl(220, 10%, 58%);
  --destructive: hsl(0, 50%, 42%);
  --success: hsl(152, 50%, 42%);
  --border: hsl(220, 14%, 20%);
  --header-bg: hsl(220, 20%, 8%);
  --header-fg: hsl(220, 10%, 85%);
  --shadow: 0 1px 3px rgba(0,0,0,0.3);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.4);
}

/* ========== Reset ========== */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }
body {
  font-family: 'Inter', system-ui, sans-serif;
  background: var(--bg);
  color: var(--fg);
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  -webkit-font-smoothing: antialiased;
}
a { color: inherit; text-decoration: none; }
button { cursor: pointer; border: none; background: none; font: inherit; color: inherit; }
img { max-width: 100%; display: block; }
ul { list-style: none; }
input { font: inherit; }
.hidden { display: none !important; }

/* ========== Container ========== */
.container { max-width: 1280px; margin: 0 auto; padding: 0 1rem; }

/* ========== Header ========== */
.header {
  position: sticky; top: 0; z-index: 50;
  background: var(--header-bg);
  border-bottom: 1px solid rgba(255,255,255,0.1);
  backdrop-filter: blur(12px);
}
.header-inner {
  height: 64px; display: flex; align-items: center; gap: 1rem;
}
.logo {
  font-weight: 800; font-size: 1.25rem; color: var(--header-fg); flex-shrink: 0;
}
.logo span { color: var(--primary); }
.nav-desktop { display: none; gap: 1.5rem; margin-left: 1rem; }
.nav-link {
  color: rgba(255,255,255,0.7); font-size: 0.875rem; font-weight: 500;
  transition: color 0.2s;
}
.nav-link:hover { color: var(--header-fg); }

/* Search */
.search-form {
  flex: 1; max-width: 28rem; position: relative; display: none;
}
.search-form input {
  width: 100%; padding: 0.5rem 2rem 0.5rem 2.5rem;
  border-radius: 9999px;
  background: rgba(255,255,255,0.1);
  border: 1px solid rgba(255,255,255,0.15);
  color: var(--header-fg);
  font-size: 0.875rem;
  outline: none;
  transition: border-color 0.2s;
}
.search-form input::placeholder { color: rgba(255,255,255,0.5); }
.search-form input:focus { border-color: var(--primary); }
.search-icon { position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); width: 1rem; height: 1rem; color: rgba(255,255,255,0.5); }
.search-clear { position: absolute; right: 0.75rem; top: 50%; transform: translateY(-50%); color: rgba(255,255,255,0.5); font-size: 1.25rem; }

/* Header actions */
.header-actions { display: flex; align-items: center; gap: 0.25rem; margin-left: auto; }
.header-btn {
  position: relative; width: 40px; height: 40px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  color: var(--header-fg); transition: background 0.2s;
}
.header-btn:hover { background: rgba(255,255,255,0.1); }
.header-btn svg { width: 20px; height: 20px; }
.badge {
  position: absolute; top: -2px; right: -2px;
  background: var(--primary); color: var(--primary-fg);
  font-size: 10px; font-weight: 700;
  min-width: 18px; height: 18px; border-radius: 9999px;
  display: flex; align-items: center; justify-content: center;
  animation: zoomIn 0.2s ease;
}
.badge:empty, .badge[data-count="0"] { display: none; }

/* Mobile menu */
.mobile-menu-btn { display: flex; }
.mobile-menu {
  background: var(--header-bg);
  border-top: 1px solid rgba(255,255,255,0.1);
  padding: 1rem;
}
.mobile-search { margin-bottom: 0.75rem; }
.mobile-search input {
  width: 100%; padding: 0.5rem 1rem; border-radius: 9999px;
  background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.15);
  color: var(--header-fg); font-size: 0.875rem; outline: none;
}
.mobile-search input::placeholder { color: rgba(255,255,255,0.5); }
.mobile-nav-link { display: block; color: var(--header-fg); padding: 0.5rem 0; }

@media (min-width: 768px) {
  .nav-desktop { display: flex; }
  .search-form { display: block; }
  .mobile-menu-btn { display: none; }
}

/* ========== Buttons ========== */
.btn {
  display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem;
  padding: 0.5rem 1rem; border-radius: var(--radius);
  font-weight: 600; font-size: 0.875rem;
  transition: all 0.2s; cursor: pointer; border: none;
}
.btn-sm { padding: 0.375rem 0.75rem; font-size: 0.8125rem; }
.btn-lg { padding: 0.75rem 1.5rem; font-size: 1rem; }
.btn-primary { background: var(--primary); color: var(--primary-fg); }
.btn-primary:hover { opacity: 0.9; }
.btn-primary:disabled { opacity: 0.5; cursor: not-allowed; }
.btn-secondary { background: var(--secondary); color: var(--secondary-fg); }
.btn-secondary:hover { opacity: 0.85; }
.btn-outline { background: transparent; border: 1px solid var(--border); color: var(--fg); }
.btn-outline:hover { background: var(--muted); }
.btn-ghost { background: transparent; color: var(--muted-fg); }
.btn-ghost:hover { background: var(--muted); }
.btn-full { width: 100%; }
.btn:not(.btn-icon) svg { width: 16px; height: 16px; flex-shrink: 0; }
.btn-icon { width: 36px; height: 36px; padding: 0; border-radius: 50%; }

/* ========== Cards ========== */
.card {
  background: var(--card); border: 1px solid var(--border);
  border-radius: var(--radius); box-shadow: var(--shadow);
  overflow: hidden; transition: box-shadow 0.3s, transform 0.3s;
}
.card:hover { box-shadow: var(--shadow-md); }
.card-link { display: block; color: inherit; }
.card-link:hover .card-title { color: var(--primary); }

.card-image {
  position: relative; aspect-ratio: 4/3; background: rgba(0,0,0,0.02);
  overflow: hidden; display: flex; align-items: center; justify-content: center;
}
.card-image img {
  width: 100%; height: 100%; object-fit: contain; padding: 1rem;
  transition: transform 0.5s ease;
}
.card-link:hover .card-image img { transform: scale(1.05); }
.card-image .placeholder-brand {
  font-size: 1.125rem; font-weight: 700; color: var(--muted-fg);
}

/* Badge on card */
.card-badge {
  position: absolute; top: 0.75rem; left: 0.75rem; z-index: 2;
  padding: 0.25rem 0.625rem; border-radius: 9999px;
  font-size: 0.75rem; font-weight: 700; color: var(--primary-fg);
}
.card-badge.hit { background: var(--primary); }
.card-badge.sale { background: var(--destructive); }
.card-badge.new { background: var(--success); }

/* Hover action buttons */
.card-actions {
  position: absolute; top: 0.75rem; right: 0.75rem; z-index: 2;
  display: flex; flex-direction: column; gap: 0.5rem;
  opacity: 0; transition: opacity 0.2s;
}
.card-link:hover .card-actions { opacity: 1; }
.card-action-btn {
  width: 36px; height: 36px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  background: rgba(255,255,255,0.9); backdrop-filter: blur(4px);
  box-shadow: 0 1px 4px rgba(0,0,0,0.1);
  color: var(--muted-fg); transition: all 0.2s;
}
.card-action-btn:hover { transform: scale(1.1); }
.card-action-btn svg { width: 16px; height: 16px; }
.card-action-btn.active-wish { background: var(--destructive); color: var(--destructive-fg); }
.card-action-btn.active-comp { background: var(--primary); color: var(--primary-fg); }

.card-body { padding: 1rem; }
.card-title {
  font-weight: 600; font-size: 0.875rem; line-height: 1.3;
  margin-bottom: 0.5rem; transition: color 0.2s;
  display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
}
.card-specs { display: flex; flex-direction: column; gap: 0.25rem; margin-bottom: 0.75rem; }
.card-spec {
  display: flex; align-items: center; gap: 0.375rem;
  font-size: 0.75rem; color: var(--muted-fg);
}
.card-spec svg { width: 14px; height: 14px; flex-shrink: 0; }
.card-prices { display: flex; align-items: baseline; gap: 0.5rem; margin-bottom: 0.5rem; }
.card-price { font-size: 1.125rem; font-weight: 700; color: var(--primary); }
.card-old-price { font-size: 0.75rem; color: var(--muted-fg); text-decoration: line-through; }
.card-stock { font-size: 0.75rem; margin-bottom: 0.75rem; }
.card-stock.in { color: var(--success); }
.card-stock.out { color: var(--destructive); }

/* ========== Hero Carousel ========== */
.hero { position: relative; overflow: hidden; border-radius: 1rem; box-shadow: var(--shadow-md); }
.hero-slide {
  padding: 2rem; min-height: 280px; display: flex; flex-direction: column; justify-content: center;
  animation: fadeSlideIn 0.45s ease;
}
.hero-badge {
  display: inline-block; background: rgba(255,255,255,0.15); backdrop-filter: blur(4px);
  padding: 0.375rem 0.75rem; border-radius: 9999px;
  font-size: 0.75rem; font-weight: 600; color: white;
  text-transform: uppercase; letter-spacing: 0.05em;
  margin-bottom: 1rem; width: fit-content;
  animation: fadeUp 0.4s ease 0.2s both;
}
.hero-title {
  font-size: 2rem; font-weight: 800; color: white; margin-bottom: 0.75rem; line-height: 1.1;
  animation: fadeUp 0.4s ease 0.3s both;
}
.hero-desc {
  color: rgba(255,255,255,0.9); font-size: 1.125rem; margin-bottom: 1.5rem; max-width: 28rem;
  animation: fadeUp 0.4s ease 0.4s both;
}
.hero-cta { animation: fadeUp 0.4s ease 0.5s both; }

.hero-arrow {
  position: absolute; top: 50%; transform: translateY(-50%);
  width: 40px; height: 40px; border-radius: 50%;
  background: rgba(255,255,255,0.15); backdrop-filter: blur(4px);
  display: flex; align-items: center; justify-content: center;
  color: white; transition: background 0.2s;
}
.hero-arrow:hover { background: rgba(255,255,255,0.25); }
.hero-arrow svg { width: 20px; height: 20px; }
.hero-arrow.left { left: 0.75rem; }
.hero-arrow.right { right: 0.75rem; }

.hero-dots {
  position: absolute; bottom: 1rem; left: 50%; transform: translateX(-50%);
  display: flex; gap: 0.5rem;
}
.hero-dot {
  height: 10px; border-radius: 9999px; transition: all 0.3s;
  background: rgba(255,255,255,0.5);
  width: 10px;
}
.hero-dot:hover { background: rgba(255,255,255,0.7); }
.hero-dot.active { width: 28px; background: white; }

@media (min-width: 768px) {
  .hero-slide { padding: 3.5rem; min-height: 380px; }
  .hero-title { font-size: 3rem; }
}

/* Gradients for hero */
.gradient-0 { background: linear-gradient(135deg, hsl(215, 14%, 34%), hsl(215, 10%, 40%)); }
.gradient-1 { background: linear-gradient(135deg, hsl(0, 55%, 35%), hsl(30, 80%, 50%)); }
.gradient-2 { background: linear-gradient(135deg, hsl(152, 40%, 28%), hsl(175, 50%, 35%)); }
.gradient-3 { background: linear-gradient(135deg, hsl(0, 0%, 30%), hsl(0, 0%, 45%)); }

/* ========== Section ========== */
.section { padding: 2rem 0; }
.section-header { display: flex; align-items: flex-end; justify-content: space-between; margin-bottom: 1.5rem; }
.section-title { font-size: 1.5rem; font-weight: 700; }
.section-link {
  font-size: 0.875rem; color: var(--primary); display: flex; align-items: center; gap: 0.25rem;
  transition: opacity 0.2s;
}
.section-link:hover { opacity: 0.8; }
.section-link svg { width: 16px; height: 16px; }

/* ========== Grid ========== */
.grid { display: grid; gap: 1rem; }
.grid-2 { grid-template-columns: repeat(2, 1fr); }
.grid-3 { grid-template-columns: repeat(1, 1fr); }
.grid-4 { grid-template-columns: repeat(1, 1fr); }

@media (min-width: 640px) {
  .grid-3 { grid-template-columns: repeat(2, 1fr); }
  .grid-4 { grid-template-columns: repeat(2, 1fr); }
}
@media (min-width: 768px) {
  .grid-2 { grid-template-columns: repeat(4, 1fr); }
}
@media (min-width: 1024px) {
  .grid-3 { grid-template-columns: repeat(3, 1fr); }
  .grid-4 { grid-template-columns: repeat(4, 1fr); }
}

/* ========== Categories ========== */
.cat-card {
  padding: 1.5rem; border-radius: var(--radius); border: 1px solid var(--border);
  background: var(--card); text-align: center; transition: all 0.3s;
}
.cat-card.active { cursor: pointer; }
.cat-card.active:hover { box-shadow: var(--shadow-md); transform: translateY(-4px); }
.cat-card.disabled { opacity: 0.5; }
.cat-icon { width: 40px; height: 40px; margin: 0 auto 0.75rem; color: var(--primary); }
.cat-card.disabled .cat-icon { color: var(--muted-fg); }
.cat-name { font-weight: 600; }
.cat-count { font-size: 0.75rem; color: var(--muted-fg); margin-top: 0.25rem; }
.cat-soon {
  display: inline-block; margin-top: 0.5rem; font-size: 0.625rem;
  background: var(--muted); padding: 0.125rem 0.5rem; border-radius: 9999px;
  color: var(--muted-fg);
}

/* ========== Skeleton ========== */
.skeleton {
  background: linear-gradient(90deg, var(--muted) 25%, rgba(255,255,255,0.15) 50%, var(--muted) 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: var(--radius);
}
@keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }

/* ========== Catalog ========== */
.catalog-layout { display: flex; gap: 1.5rem; }
.catalog-sidebar { display: none; width: 256px; flex-shrink: 0; }
.catalog-main { flex: 1; min-width: 0; }
.catalog-topbar {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 1.5rem; gap: 1rem; flex-wrap: wrap;
}
.catalog-info h1 { font-size: 1.5rem; font-weight: 700; }
.catalog-info p { font-size: 0.875rem; color: var(--muted-fg); margin-top: 0.25rem; }
.catalog-controls { display: flex; align-items: center; gap: 0.75rem; }

@media (min-width: 1024px) {
  .catalog-sidebar { display: block; }
}

/* Filters */
.filters-card {
  position: sticky; top: 5rem;
  border-radius: var(--radius); border: 1px solid var(--border);
  background: var(--card); padding: 1.25rem;
}
.filter-group { margin-bottom: 1.5rem; }
.filter-group:last-child { margin-bottom: 0; }
.filter-title { font-weight: 600; font-size: 0.875rem; margin-bottom: 0.75rem; }
.filter-option {
  display: flex; align-items: center; gap: 0.5rem;
  padding: 0.25rem 0; font-size: 0.875rem; cursor: pointer;
  transition: color 0.2s;
}
.filter-option:hover { color: var(--primary); }
.filter-option input[type="checkbox"] {
  width: 16px; height: 16px; accent-color: var(--primary);
  border-radius: 4px; cursor: pointer;
}
.filter-option .count { margin-left: auto; font-size: 0.75rem; color: var(--muted-fg); }

/* Price slider */
.price-slider {
  -webkit-appearance: none; width: 100%; height: 6px;
  background: var(--muted); border-radius: 3px; outline: none;
  margin: 0.5rem 0;
}
.price-slider::-webkit-slider-thumb {
  -webkit-appearance: none; width: 18px; height: 18px;
  border-radius: 50%; background: var(--primary); cursor: pointer;
  border: 2px solid var(--card);
}
.price-range-labels { display: flex; justify-content: space-between; font-size: 0.75rem; color: var(--muted-fg); }

/* Select */
.select-wrap { position: relative; }
.select-native {
  appearance: none; padding: 0.5rem 2rem 0.5rem 0.75rem;
  border: 1px solid var(--border); border-radius: var(--radius);
  background: var(--card); color: var(--fg); font-size: 0.875rem;
  cursor: pointer; min-width: 180px;
}
.select-wrap::after {
  content: '▾'; position: absolute; right: 0.75rem; top: 50%; transform: translateY(-50%);
  color: var(--muted-fg); pointer-events: none;
}

/* Empty state */
.empty-state { text-align: center; padding: 4rem 1rem; }
.empty-state .emoji { font-size: 2.5rem; margin-bottom: 0.75rem; }
.empty-state .title { font-size: 1.125rem; font-weight: 500; }
.empty-state .subtitle { font-size: 0.875rem; color: var(--muted-fg); margin-top: 0.25rem; }

/* ========== Product Detail ========== */
.detail-grid { display: grid; grid-template-columns: 1fr; gap: 2rem; }
@media (min-width: 1024px) { .detail-grid { grid-template-columns: 1fr 1fr; } }
.detail-gallery {
  border-radius: var(--radius); border: 1px solid var(--border);
  background: var(--card); overflow: hidden;
}
.detail-main-image {
  aspect-ratio: 1; display: flex; align-items: center; justify-content: center;
  padding: 2rem; background: rgba(0,0,0,0.02);
}
.detail-main-image img { max-width: 100%; max-height: 100%; object-fit: contain; }
.detail-thumbs { display: flex; gap: 0.5rem; padding: 0.75rem; }
.detail-thumb {
  width: 64px; height: 64px; border-radius: 0.5rem;
  border: 2px solid transparent; overflow: hidden; cursor: pointer;
  transition: border-color 0.2s;
}
.detail-thumb.active { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(59,130,246,0.2); }
.detail-thumb img { width: 100%; height: 100%; object-fit: contain; }

.detail-info h1 { font-size: 1.5rem; font-weight: 700; margin-bottom: 0.5rem; }
@media (min-width: 768px) { .detail-info h1 { font-size: 1.875rem; } }
.detail-stock { font-size: 0.875rem; margin-bottom: 1rem; }
.detail-price-row { display: flex; align-items: baseline; gap: 0.75rem; margin-bottom: 1.5rem; }
.detail-price { font-size: 1.875rem; font-weight: 800; color: var(--primary); }
.detail-old-price { font-size: 1.125rem; color: var(--muted-fg); text-decoration: line-through; }

.specs-table {
  border-radius: var(--radius); border: 1px solid var(--border);
  background: var(--card); overflow: hidden; margin-top: 2rem;
}
.specs-table h3 {
  font-weight: 600; padding: 1rem; border-bottom: 1px solid var(--border);
}
.spec-row {
  display: flex; align-items: center; gap: 0.75rem;
  padding: 0.75rem 1rem; border-bottom: 1px solid var(--border);
}
.spec-row:last-child { border-bottom: none; }
.spec-row svg { width: 16px; height: 16px; color: var(--muted-fg); flex-shrink: 0; }
.spec-label { font-size: 0.875rem; color: var(--muted-fg); }
.spec-value { font-size: 0.875rem; font-weight: 500; margin-left: auto; }

.back-link {
  display: inline-flex; align-items: center; gap: 0.25rem;
  font-size: 0.875rem; color: var(--muted-fg); margin-bottom: 1.5rem;
  transition: color 0.2s;
}
.back-link:hover { color: var(--primary); }
.back-link svg { width: 16px; height: 16px; }

/* ========== Checkout ========== */
.checkout-grid { display: grid; grid-template-columns: 1fr; gap: 1.5rem; }
@media (min-width: 1024px) { .checkout-grid { grid-template-columns: 2fr 1fr; } }
.form-card {
  border-radius: var(--radius); border: 1px solid var(--border);
  background: var(--card); padding: 1.5rem;
}
.form-card h3 { font-weight: 600; font-size: 1.125rem; margin-bottom: 1rem; }
.form-row { display: grid; grid-template-columns: 1fr; gap: 1rem; margin-bottom: 1rem; }
@media (min-width: 768px) { .form-row.double { grid-template-columns: 1fr 1fr; } }
.form-group label { display: block; font-size: 0.875rem; font-weight: 500; margin-bottom: 0.375rem; }
.form-group input {
  width: 100%; padding: 0.5rem 0.75rem;
  border: 1px solid var(--border); border-radius: var(--radius);
  background: var(--card); color: var(--fg); font-size: 0.875rem;
  transition: border-color 0.2s; outline: none;
}
.form-group input:focus { border-color: var(--primary); }
.form-error { font-size: 0.75rem; color: var(--destructive); margin-top: 0.25rem; }

.order-summary {
  border-radius: var(--radius); border: 1px solid var(--border);
  background: var(--card); padding: 1.5rem; height: fit-content;
  position: sticky; top: 5rem;
}
.order-summary h3 { font-weight: 600; font-size: 1.125rem; margin-bottom: 1rem; }
.order-item { display: flex; justify-content: space-between; font-size: 0.875rem; margin-bottom: 0.75rem; }
.order-item .name { flex: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; margin-right: 0.5rem; }
.order-item .price { font-weight: 500; flex-shrink: 0; }
.order-total {
  border-top: 1px solid var(--border); padding-top: 0.75rem; margin-top: 0.75rem;
  display: flex; justify-content: space-between; font-size: 1.125rem; font-weight: 700;
}
.order-total .price { color: var(--primary); }

.success-page { text-align: center; padding: 4rem 1rem; }
.success-page svg { width: 64px; height: 64px; color: var(--success); margin: 0 auto 1rem; }
.success-page h1 { font-size: 1.5rem; font-weight: 700; margin-bottom: 0.5rem; }
.success-page p { color: var(--muted-fg); margin-bottom: 1.5rem; }

/* ========== Drawer ========== */
.overlay {
  position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 60;
  animation: fadeIn 0.2s ease;
}
.drawer {
  position: fixed; top: 0; right: 0; bottom: 0;
  width: 100%; max-width: 28rem;
  background: var(--card); z-index: 70;
  display: flex; flex-direction: column;
  box-shadow: -4px 0 20px rgba(0,0,0,0.15);
  animation: slideInRight 0.3s ease;
}
.drawer-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 1rem 1.25rem; border-bottom: 1px solid var(--border);
}
.drawer-header h3 { font-weight: 600; font-size: 1.125rem; }
.drawer-body { flex: 1; overflow-y: auto; padding: 1rem; }
.drawer-footer { padding: 1rem; border-top: 1px solid var(--border); }
.close-btn { font-size: 1.5rem; color: var(--muted-fg); padding: 0.25rem; }
.close-btn:hover { color: var(--fg); }

/* Cart item */
.cart-item {
  display: flex; gap: 0.75rem; padding: 0.75rem;
  border-radius: 0.5rem; border: 1px solid var(--border); margin-bottom: 0.75rem;
  background: var(--card);
}
.cart-item-img {
  width: 64px; height: 64px; border-radius: 0.375rem; background: rgba(0,0,0,0.02);
  overflow: hidden; flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
}
.cart-item-img img { width: 100%; height: 100%; object-fit: contain; }
.cart-item-info { flex: 1; min-width: 0; }
.cart-item-info h4 { font-size: 0.875rem; font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.cart-item-info .price { font-size: 0.875rem; font-weight: 700; color: var(--primary); margin-top: 0.25rem; }
.cart-item-controls { display: flex; align-items: center; gap: 0.5rem; margin-top: 0.5rem; }
.qty-btn {
  width: 28px; height: 28px; border-radius: 0.375rem; border: 1px solid var(--border);
  display: flex; align-items: center; justify-content: center; transition: background 0.2s;
}
.qty-btn:hover { background: var(--muted); }
.qty-btn svg { width: 12px; height: 12px; }
.qty-value { font-size: 0.875rem; font-weight: 500; width: 24px; text-align: center; }
.remove-btn { margin-left: auto; color: var(--muted-fg); transition: color 0.2s; }
.remove-btn:hover { color: var(--destructive); }
.remove-btn svg { width: 16px; height: 16px; }

.cart-total {
  display: flex; justify-content: space-between;
  font-size: 1.125rem; font-weight: 700; margin-bottom: 0.75rem;
}
.cart-total strong { color: var(--primary); }
.cart-empty {
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  height: 100%; color: var(--muted-fg); gap: 0.75rem;
}
.cart-empty svg { width: 48px; height: 48px; opacity: 0.3; }

/* ========== Modal ========== */
.modal-overlay {
  position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 60;
  display: flex; align-items: center; justify-content: center; padding: 1rem;
  animation: fadeIn 0.2s ease;
}
.modal {
  background: var(--card); border-radius: var(--radius); box-shadow: var(--shadow-md);
  width: 100%; max-width: 32rem; max-height: 80vh; overflow-y: auto;
  animation: zoomIn 0.25s ease;
}
.modal-wide { max-width: 56rem; }
.modal-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 1rem 1.25rem; border-bottom: 1px solid var(--border);
}
.modal-header h3 { font-weight: 600; font-size: 1.125rem; }
.modal-body { padding: 1rem 1.25rem; }

/* Wishlist item */
.wish-item {
  display: flex; gap: 0.75rem; padding: 0.75rem;
  border-radius: 0.5rem; border: 1px solid var(--border); margin-bottom: 0.75rem;
}
.wish-item-img {
  width: 56px; height: 56px; border-radius: 0.375rem; background: rgba(0,0,0,0.02);
  overflow: hidden; flex-shrink: 0; display: flex; align-items: center; justify-content: center;
}
.wish-item-img img { width: 100%; height: 100%; object-fit: contain; }
.wish-item-info { flex: 1; min-width: 0; }
.wish-item-info h4 { font-size: 0.875rem; font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.wish-item-info .price { font-size: 0.875rem; font-weight: 700; color: var(--primary); }
.wish-item-actions { display: flex; align-items: center; gap: 0.25rem; }

/* Compare table */
.compare-table { width: 100%; font-size: 0.875rem; overflow-x: auto; }
.compare-table th { padding: 0.5rem; text-align: center; min-width: 150px; }
.compare-table td { padding: 0.5rem; text-align: center; font-weight: 500; }
.compare-table td:first-child { text-align: left; color: var(--muted-fg); font-weight: 500; }
.compare-table tr + tr { border-top: 1px solid var(--border); }
.compare-product { position: relative; }
.compare-remove {
  position: absolute; top: -4px; right: -4px;
  width: 24px; height: 24px; border-radius: 50%;
  background: var(--muted); display: flex; align-items: center; justify-content: center;
  font-size: 0.75rem; transition: all 0.2s;
}
.compare-remove:hover { background: var(--destructive); color: var(--destructive-fg); }
.compare-thumb {
  width: 80px; height: 80px; margin: 0 auto 0.5rem; background: rgba(0,0,0,0.02);
  border-radius: 0.5rem; overflow: hidden; display: flex; align-items: center; justify-content: center;
}
.compare-thumb img { width: 100%; height: 100%; object-fit: contain; }

/* ========== Toast ========== */
.toast-container {
  position: fixed; bottom: 1.5rem; right: 1.5rem; z-index: 100;
  display: flex; flex-direction: column; gap: 0.5rem;
}
.toast {
  padding: 0.75rem 1rem; border-radius: var(--radius);
  background: var(--card); border: 1px solid var(--border);
  box-shadow: var(--shadow-md); font-size: 0.875rem; font-weight: 500;
  animation: slideInUp 0.3s ease;
  max-width: 320px;
}
.toast.success { border-left: 3px solid var(--success); }
.toast.warning { border-left: 3px solid hsl(38, 80%, 52%); }

/* ========== Scroll to top ========== */
.scroll-top {
  position: fixed; bottom: 1.5rem; right: 1.5rem; z-index: 40;
  width: 44px; height: 44px; border-radius: 50%;
  background: var(--primary); color: var(--primary-fg);
  box-shadow: var(--shadow-md);
  display: flex; align-items: center; justify-content: center;
  transition: opacity 0.3s, transform 0.3s;
}
.scroll-top:hover { opacity: 0.9; }
.scroll-top svg { width: 20px; height: 20px; }
.scroll-top.show { display: flex; animation: zoomIn 0.2s ease; }

/* ========== Footer ========== */
.footer { background: var(--card); border-top: 1px solid var(--border); margin-top: auto; }
.footer-grid { display: grid; grid-template-columns: 1fr; gap: 2rem; padding: 2.5rem 1rem; }
@media (min-width: 768px) { .footer-grid { grid-template-columns: repeat(3, 1fr); } }
.footer-logo { font-size: 1.125rem; margin-bottom: 0.75rem; }
.footer-text { font-size: 0.875rem; color: var(--muted-fg); }
.footer-heading { font-weight: 600; margin-bottom: 0.75rem; }
.footer-links li { margin-bottom: 0.5rem; font-size: 0.875rem; color: var(--muted-fg); }
.footer-links a { transition: color 0.2s; }
.footer-links a:hover { color: var(--primary); }
.footer-bottom {
  border-top: 1px solid var(--border); text-align: center;
  padding: 1.5rem 1rem; font-size: 0.75rem; color: var(--muted-fg);
}

/* ========== Animations ========== */
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes fadeUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeSlideIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes slideInRight { from { transform: translateX(100%); } to { transform: translateX(0); } }
@keyframes slideInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes zoomIn { from { opacity: 0; transform: scale(0.8); } to { opacity: 1; transform: scale(1); } }

.animate-in { animation: fadeUp 0.4s ease both; }
.animate-in-1 { animation-delay: 0.06s; }
.animate-in-2 { animation-delay: 0.12s; }
.animate-in-3 { animation-delay: 0.18s; }
.animate-in-4 { animation-delay: 0.24s; }
.animate-in-5 { animation-delay: 0.30s; }

/* ========== Scrollbar ========== */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb { background: rgba(128,128,128,0.3); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: rgba(128,128,128,0.5); }

/* Mobile filter button */
.filter-mobile-btn { display: flex; }
@media (min-width: 1024px) { .filter-mobile-btn { display: none; } }

/* Mobile filter panel */
.mobile-filters-overlay {
  position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 60;
  animation: fadeIn 0.2s ease;
}
.mobile-filters-panel {
  position: fixed; top: 0; left: 0; bottom: 0;
  width: 100%; max-width: 20rem;
  background: var(--card); z-index: 70;
  overflow-y: auto; padding: 1.25rem;
  animation: slideInLeft 0.3s ease;
}
@keyframes slideInLeft { from { transform: translateX(-100%); } to { transform: translateX(0); } }

/* ========== FIXES & IMPROVEMENTS ========== */

/* FIX: Detail actions row — cart btn + share btn side by side */
.detail-actions {
  display: flex; align-items: center; gap: 0.75rem; margin-bottom: 2rem;
}
.detail-actions .btn-icon {
  width: 48px; height: 48px; border-radius: var(--radius); flex-shrink: 0;
}

/* FIX: Discount badge on detail page */
.discount-badge {
  display: inline-flex; align-items: center;
  background: var(--destructive); color: var(--destructive-fg);
  font-size: 0.875rem; font-weight: 700;
  padding: 0.25rem 0.625rem; border-radius: 9999px;
}

/* FIX: Compare table — highlight best value cell */
.compare-best {
  color: var(--success) !important;
  font-weight: 700 !important;
}

/* FIX: Price range - two sliders stacked */
.price-slider + .price-slider { margin-top: 0.25rem; }

/* FIX: Scroll-top conflicts with toast on mobile */
@media (max-width: 640px) {
  .scroll-top { bottom: 5rem; }
}

/* ========== REDESIGNED BUTTON SIZES ========== */

/* btn-md — new default medium size (replaces btn-lg in most places) */
.btn-md { padding: 0.5rem 1.25rem; font-size: 0.9375rem; }

/* Hero button — compact, doesn't take full width */
.btn-hero {
  display: inline-flex; align-items: center; gap: 0.5rem;
  padding: 0.5rem 1.25rem; border-radius: var(--radius);
  font-weight: 600; font-size: 0.9375rem;
  background: rgba(255,255,255,0.15); color: white;
  border: 1px solid rgba(255,255,255,0.3);
  backdrop-filter: blur(4px);
  transition: all 0.2s; cursor: pointer;
}
.btn-hero:hover { background: rgba(255,255,255,0.25); }
.btn-hero svg { width: 16px; height: 16px; }

/* Reset filters — compact inline button */
.btn-reset-filters {
  display: inline-flex; align-items: center; gap: 0.375rem;
  padding: 0.3rem 0.75rem; font-size: 0.8125rem;
  border-radius: var(--radius); border: 1px solid var(--border);
  background: transparent; color: var(--muted-fg);
  transition: all 0.2s; cursor: pointer; margin-top: 0.5rem;
}
.btn-reset-filters:hover { background: var(--muted); color: var(--fg); }
.btn-reset-filters svg { width: 12px; height: 12px; }

/* ========== OUT OF STOCK DISPLAY ========== */
/* Non-clickable, visually clear "unavailable" label */
.btn-out-of-stock {
  display: flex; align-items: center; justify-content: center;
  width: 100%; padding: 0.375rem 0.75rem;
  font-size: 0.8125rem; font-weight: 600;
  color: var(--muted-fg);
  background: var(--muted);
  border-radius: var(--radius);
  border: 1px solid var(--border);
  user-select: none; pointer-events: none;
  cursor: default;
}
.btn-out-of-stock-lg {
  padding: 0.5rem 1.25rem; font-size: 0.9375rem;
  max-width: 20rem;
}

/* Card when out of stock — slightly muted */
.card-out-of-stock { opacity: 0.75; }
.card-out-of-stock .card-image img { filter: grayscale(30%); }

/* Card button wrapper — outside the <a> tag so it's always clickable independently */
.card-btn-wrap { padding: 0 1rem 1rem; }

/* ========== IN-STOCK FILTER ========== */
.filter-instock {
  padding: 0.5rem 0.75rem;
  background: var(--muted);
  border-radius: var(--radius);
  border: 1px solid var(--border);
  font-weight: 600;
}
.filter-instock:hover { background: var(--secondary); }
.instock-label { color: var(--success); font-weight: 600; }

/* ========== CARD IMAGE CAROUSEL ========== */
.card-img-arrow {
  position: absolute; top: 50%; transform: translateY(-50%);
  width: 28px; height: 28px; border-radius: 50%;
  background: rgba(255,255,255,0.85); backdrop-filter: blur(4px);
  display: flex; align-items: center; justify-content: center;
  color: var(--fg); opacity: 0; transition: opacity 0.2s;
  z-index: 3; box-shadow: 0 1px 4px rgba(0,0,0,0.15);
}
.card-img-arrow svg { width: 14px; height: 14px; }
.card-img-arrow.left { left: 0.375rem; }
.card-img-arrow.right { right: 0.375rem; }
.card:hover .card-img-arrow { opacity: 1; }
.card-img-arrow:hover { background: white; }

.card-img-dots {
  position: absolute; bottom: 0.5rem; left: 50%; transform: translateX(-50%);
  display: flex; gap: 4px; z-index: 3;
}
.card-img-dot {
  width: 6px; height: 6px; border-radius: 50%;
  background: rgba(255,255,255,0.6); transition: all 0.2s;
}
.card-img-dot.active { background: white; width: 14px; border-radius: 3px; }

/* ========== DETAIL IMAGE CAROUSEL ========== */
.detail-main-image { position: relative; }

.detail-arrow {
  position: absolute; top: 50%; transform: translateY(-50%);
  width: 36px; height: 36px; border-radius: 50%;
  background: rgba(255,255,255,0.9); backdrop-filter: blur(4px);
  display: flex; align-items: center; justify-content: center;
  color: var(--fg); z-index: 5; box-shadow: 0 2px 8px rgba(0,0,0,0.15);
  transition: all 0.2s;
}
.dark .detail-arrow { background: rgba(30,35,50,0.9); color: var(--fg); }
.detail-arrow:hover { transform: translateY(-50%) scale(1.1); }
.detail-arrow svg { width: 18px; height: 18px; }
.detail-arrow.left { left: 0.75rem; }
.detail-arrow.right { right: 0.75rem; }

.detail-dots {
  position: absolute; bottom: 0.75rem; left: 50%; transform: translateX(-50%);
  display: flex; gap: 6px; z-index: 5;
}
.detail-dot {
  width: 8px; height: 8px; border-radius: 50%;
  background: rgba(128,128,128,0.4);
  border: 1px solid rgba(0,0,0,0.1);
  cursor: pointer; transition: all 0.2s;
}
.detail-dot.active { background: var(--primary); width: 20px; border-radius: 4px; }

/* ========== DETAIL ACTIONS ROW ========== */
.detail-actions {
  display: flex; align-items: center; gap: 0.75rem; margin-bottom: 2rem;
}
.detail-actions .btn-md { flex: 1; max-width: 20rem; }
.detail-actions .btn-icon.btn-md { flex: 0 0 42px; width: 42px; height: 42px; padding: 0; border-radius: var(--radius); }

/* Discount badge */
.discount-badge {
  display: inline-flex; align-items: center;
  background: var(--destructive); color: var(--destructive-fg);
  font-size: 0.8125rem; font-weight: 700;
  padding: 0.2rem 0.5rem; border-radius: 9999px;
}

/* Compare best value */
.compare-best { color: var(--success) !important; font-weight: 700 !important; }

/* ========== MISC FIXES ========== */
/* Price sliders stacked */
.price-slider + .price-slider { margin-top: 0.25rem; }

/* Scroll top / toast conflict on mobile */
@media (max-width: 640px) {
  .scroll-top { bottom: 5rem; }
}

/* Ensure page never looks blank during load */
#app { min-height: 60vh; }
